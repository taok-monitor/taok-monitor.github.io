{"version":3,"sources":["views/Dashboard/Dashboard.js"],"names":["Dashboard","props","_this","Object","_home_cassunde_projects_java_open_source_microservice_quarkus_bizu_all_bizu_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_home_cassunde_projects_java_open_source_microservice_quarkus_bizu_all_bizu_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_cassunde_projects_java_open_source_microservice_quarkus_bizu_all_bizu_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","request","_home_cassunde_projects_java_open_source_microservice_quarkus_bizu_all_bizu_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_cassunde_projects_java_open_source_microservice_quarkus_bizu_all_bizu_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","anoELeicaoTratado","wrap","_context","prev","next","setState","showLoad","undefined","state","anoEleicao","axios","get","concat","nomeMunicipio","nomeCandidato","cargo","then","res","persons","data","municipios","console","log","stop","handleChange","event","target","value","handleChangeCandidato","handleChangeAnoEleicao","handleSubmit","preventDefault","mapper","objeto","valor","reducer","accumulator","currentValue","formata","TypeError","numero","Number","toFixed","split","join","loading","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","className","toggle","bind","_home_cassunde_projects_java_open_source_microservice_quarkus_bizu_all_bizu_front_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","onRadioBtnClick","dropdownOpen","radioSelected","_this2","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","reactstrap__WEBPACK_IMPORTED_MODULE_14__","xs","sm","md","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","onSubmit","reactstrap__WEBPACK_IMPORTED_MODULE_17__","htmlFor","react_bootstrap_typeahead__WEBPACK_IMPORTED_MODULE_21__","id","placeholder","onChange","selected","options","reactstrap__WEBPACK_IMPORTED_MODULE_18__","type","reactstrap__WEBPACK_IMPORTED_MODULE_19__","size","color","reactstrap__WEBPACK_IMPORTED_MODULE_20__","style","display","position","left","map","person","key","municipioEleicao","cargoEleicao","nomeCandidatoNaUrna","src","urlFoto","width","bens","reduce","cassacoes","cassacao","index","motivoCanssacao","Component"],"mappings":"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","file":"static/js/51.edad64f1.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Row,\n  Form,\n  Label,\n  Input,\n  Button,\n  Jumbotron,\n  Spinner\n} from 'reactstrap';\n\nimport {Typeahead} from 'react-bootstrap-typeahead'; \n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.onRadioBtnClick = this.onRadioBtnClick.bind(this);\n\n    this.state = {\n      dropdownOpen: false,\n      radioSelected: 2,\n      persons:[],\n      municipios:[],\n      nomeCandidato:\"\",\n      nomeMunicipio:\"\",\n      cargo: \"\",\n      anoEleicao:\"\",\n      showLoad:\"none\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount(){    \n    this.request();      \n  }\n\n  request = async () => {\n\n    this.setState({ showLoad:\"inline-block\" });      \n    var anoELeicaoTratado = this.state.anoEleicao;\n    if(anoELeicaoTratado === undefined || anoELeicaoTratado === \"\"){\n      anoELeicaoTratado = \"0\";\n    }\n        \n    await axios.get(`https://api-bizu.herokuapp.com/coleta/candidaturas?nomeMunicipio=${this.state.nomeMunicipio}&nomeCandidato=${this.state.nomeCandidato}&anoEleicao=${anoELeicaoTratado}&cargo=${this.state.cargo}`)\n    .then(res => {\n      const persons = res.data;\n      this.setState({ persons });      \n      this.setState({ showLoad:\"none\" });      \n    })      \n\n    await axios.get(`https://api-bizu.herokuapp.com/coleta/municipios`)\n    .then(res => {\n      const municipios = res.data;\n      this.setState({ municipios });\n    })      \n    console.log(this.state);\n  }  \n\n  handleChange = (event) => this.setState({nomeMunicipio: event.target.value});\n  handleChangeCandidato = (event) => {        \n    this.setState({nomeCandidato: event.target.value})\n    console.log(this.state);\n  };\n  handleChangeAnoEleicao = (event) => {        \n    this.setState({anoEleicao: event.target.value})\n    console.log(this.state);\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    this.request();\n  };\n  \n  mapper = (objeto) => objeto.valor !== undefined ? objeto.valor : undefined;\n  reducer = (accumulator, currentValue) =>  accumulator + currentValue;\n  formata = (valor) => {\n    if (valor !== 0 && !valor) {\n        throw new TypeError('You should pass a valid argument');\n    }\n\n    const numero = Number(valor)\n        .toFixed(2)\n        .split('.');\n\n    numero[0] = `R$ ${numero[0].split(/(?=(?:...)*$)/).join('.')}`;\n\n    return numero.join(',');\n  }\n\n  toggle() {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen,\n    });\n  }\n\n  onRadioBtnClick(radioSelected) {\n    this.setState({\n      radioSelected: radioSelected,\n    });\n  }\n\n  loading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n\n  render() {\n\n    return (\n      <div className=\"animated fadeIn\">        \n      <Row>\n          <Col>\n            <Card>              \n              <CardBody>\n                <Jumbotron>\n                  <h1 className=\"display-3\">BIZU</h1>\n                  <p className=\"lead\">Conheça todos os candidatos que um dia foram bloqueados pela Justiça Eleitoral no Estado do Ceará</p>\n                  <hr className=\"my-2\" />\n                  <p>Dados coletados do portal da transparência do TSE.</p>                                    \n                </Jumbotron>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n        <Row>\n          <Col xs=\"12\" sm=\"12\" md=\"12\">\n            <Card>\n              <CardHeader>\n                Filtros\n              </CardHeader>\n              <CardBody>\n                <Form onSubmit={this.handleSubmit} >\n                  <Row>\n                    <Col md=\"3\" >\n                      <Label htmlFor=\"municipio\">Municipio</Label>\n                      <Typeahead\n                        id=\"municipio\"\n                        placeholder=\"Selecione um município\"\n                        onChange={(selected) => {\n                          this.setState({nomeMunicipio : selected })\n                        }}\n                        options={this.state.municipios}\n                      />                      \n                    </Col>\n                    <Col md=\"3\" >\n                      <Label htmlFor=\"municipio\">Cargo</Label>\n                      <Typeahead\n                        id=\"cargo\"\n                        placeholder=\"Selecione um cargo\"\n                        onChange={(selected) => {\n                          this.setState({cargo : selected })\n                        }}\n                        options={['PREFEITO','VEREADOR','GOVERNADOR','SENADOR','DEPUTADO FEDERAL','DEPUTADO ESTADUAL']}\n                      />                      \n                    </Col>\n                    <Col md=\"3\">\n                      <Label htmlFor=\"candidato\">Candidato</Label>\n                      <Input type=\"text\" id=\"candidato\" placeholder=\"nome do Candidato\"                    \n                        value={this.state.nomeCandidato} \n                        onChange={this.handleChangeCandidato}\n                      />\n                    </Col>\n                    <Col md=\"3\">\n                      <Label htmlFor=\"anoEleicao\">Ano da Eleição  </Label>\n                      <Input type=\"text\" id=\"anoEleicao\" placeholder=\"Ano da Eleicao\"                    \n                        value={this.state.anoEleicao} \n                        onChange={this.handleChangeAnoEleicao}\n                      />\n                    </Col>                    \n                    \n                  </Row>                                    \n                  <hr></hr>\n                  <Button type=\"submit\" size=\"sm\" color=\"primary\"><i className=\"fa fa-dot-circle-o\"></i> Filtrar</Button>\n                </Form>\n                <Spinner color=\"danger\" style={{display: this.state.showLoad, position: \"relative\",left: \"50%\" }} />\n              </CardBody>\n            </Card>\n          </Col>        \n        </Row>        \n        <Row>\n        { \n          this.state.persons.map(person => \n            <Col xs=\"12\" sm=\"6\" md=\"4\" key={person.id} >\n            <Card>\n              <CardHeader>                \n                <table className=\"table\">\n                  <tbody>\n                    <tr>\n                      <td>\n                        <b>Ano:</b>\n                      </td>                                           \n                      <td>\n                        {person.anoEleicao}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>Municipio:</b>\n                      </td>                                           \n                      <td>\n                        {person.municipioEleicao}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>Cargo:</b>\n                      </td>                                           \n                      <td>\n                        {person.cargoEleicao}\n                      </td>\n                    </tr>\n                  </tbody>                 \n                </table>                              \n              </CardHeader>\n              <CardBody>               \n                <Row>\n                  <Col md=\"12\">\n                    <b>{person.nomeCandidatoNaUrna}</b>             \n                    <hr></hr>\n                  </Col>                   \n                </Row>\n                <Row>\n                  <Col md=\"6\">                    \n                    <img src={person.urlFoto} width=\"100%\" />\n                    <hr></hr>\n                    <Card>\n                      <CardHeader>\n                        Bens declarados\n                      </CardHeader>\n                      <CardBody>\n                        { this.formata(person.bens.map(this.mapper).reduce(this.reducer,0).toFixed(2))}\n                      </CardBody>\n                    </Card>\n                  </Col>\n                  <Col md=\"6\">\n                    <Card>\n                      <CardHeader>\n                        Motivo Cassação\n                      </CardHeader>\n                      <CardBody>                        \n                        { person.cassacoes.map((cassacao, index) => <li key={index} >{cassacao.motivoCanssacao}</li>)}                     \n                      </CardBody>\n                    </Card>\n                  </Col>\n                </Row>\n                \n              </CardBody>\n            </Card>\n          </Col>\n          )\n        }          \n          </Row>\n        </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"],"sourceRoot":""}